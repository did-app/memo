<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet"> -->
  <link href="/vendor/tailwind.min.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css" integrity="sha512-Oy18vBnbSJkXTndr2n6lDMO5NN31UljR8e/ICzVPrGpSud4Gkckb8yUpqhKuUNoE+o9gAb4O/rAxxw1ojyUVzg==" crossorigin="anonymous" /> -->
  <link rel="stylesheet" href="/vendor/github-markdown.min.css" crossorigin="anonymous" />
  <!-- <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> -->
  <script src="/vendor/marked.min.js"></script>
  <script src="https://kit.fontawesome.com/f868aafb81.js" crossorigin="anonymous"></script>
  <script src="/vendor/TextTip.js"></script>
  <link rel="stylesheet" href="/vendor/TextTip.css">
  <link rel="stylesheet" href="/css/extra.css">
  <title>plum mail</title>
  <script type="module" async defer src="/src/conversation/boot.js"></script>
</head>
<body>
  <header class="max-w-3xl mx-auto text-center pt-6 pb-4">
    <h1 id="topic" class="text-2xl"></h1>
  </header>
  <div class="flex">

    <main class="flex-grow max-w-3xl ml-auto px-2 mb-16">
      <div id="messages" class="">
      </div>
      <h2 id="concluded-banner" class="hidden text-lg text-center font-bold text-gray-700 mb-14">
        This conversation has been resolved, <br> No further messages can be sent.
      </h2>

      <form id="reply-form" class="relative w-full rounded-2xl my-shadow bg-white mt-2 mb-8 py-6 px-20" onsubmit="writeMessage(event)">
        <input id="preview-tab" class="hidden" type="checkbox">
        <textarea class="w-full px-2 bg-white outline-none" name="content" style="min-height:14em" placeholder="Write message ..."></textarea>
        <div id="preview" class="markdown-body p-2" style="min-height:14em;">
          No preview yet.
        </div>
        <section class="font-bold flex px-2 pb-1">
          <span class="text-gray-700 pr-2">From:</span>
          <input class="border-b bg-white border-white flex-grow focus:border-gray-700 outline-none placeholder-gray-700" type="text" name="from" placeholder="<%= Helpers.email_address(identifier) %>" value="Richard">
        </section>
        <footer id="compose-menu" class="flex items-baseline border-t">
          <label class="font-bold flex px-2 py-1 justify-start items-start">
            <span class="text-gray-700 pr-2">Close conversation</span>
            <div class="bg-white border-2 rounded border-gray-400 w-6 h-6 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500">
              <input type="checkbox" class="opacity-0 absolute" name="resolve">
              <svg class="fill-current hidden w-4 h-4 text-indigo-800 pointer-events-none" viewBox="0 0 20 20">
                <path d="M0 11l2-2 5 5L18 3l2 2L7 18z" /></svg>
            </div>
          </label>
          <label for="preview-tab" class="ml-auto">
            <span class="m-1 ml-auto px-2 py-1 rounded border cursor-pointer border-indigo-900 focus:border-indigo-700 hover:border-indigo-700 text-indigo-800 font-bold mt-4">Preview</span>
          </label>
          <button class="m-1 px-2 py-1 rounded bg-indigo-900 focus:bg-indigo-700 hover:bg-indigo-700 text-white font-bold mt-4" type="submit">Send</button>
        </footer>
      </form>
    </main>
    <aside class="w-full max-w-md flex flex-col py-2 px-6 text-gray-700 mr-auto">
      <h3 class="font-bold">Pins</h3>
      <style media="screen">
        .last-only {
          display: none;
        }

        .last-only:last-child {
          display: block;
        }
      </style>
      <ul id="pins">
        <li class="last-only">Select message text to add first pin.</li>
      </ul>
      <h3 class="font-bold mt-8">Participants</h3>
      <ul id="participants">
      </ul>
      <form class="" onsubmit="inviteParticipant(event)" method="post">
        <!-- <h3 class="text-gray-600 text-lg">Add participant</h3> -->
        <input class="duration-200 mt-2 px-4 py-1 rounded transition-colors bg-white" id="invite" type="text" name="email" value="" placeholder="email address">
        <button class="px-4 py-1 hover:bg-indigo-700 rounded bg-indigo-900 text-white mt-2" type="submit">Invite</button>
      </form>
      <!-- <footer class="mt-auto text-center text-xl font-bold text-gray-400">
        plum mail
      </footer> -->
      <h3 class="font-bold mt-4">Notifications</h3>
      <p>Send me notifications for</p>
      <label class="flex px-2 py-1 justify-start items-start">
        <div class="bg-white border-2 rounded border-gray-400 w-6 h-6 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500">
          <input type="radio" class="opacity-0 absolute" name="resolve" checked>
          <svg class="fill-current hidden w-4 h-4 text-indigo-800 pointer-events-none" viewBox="0 0 20 20">
            <path d="M0 11l2-2 5 5L18 3l2 2L7 18z" /></svg>
        </div>
        <span class="text-gray-700 pr-2">All messages</span>
      </label>
      <label class="flex px-2 py-1 justify-start items-start">
        <div class="bg-white border-2 rounded border-gray-400 w-6 h-6 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500">
          <input type="radio" class="opacity-0 absolute" name="resolve">
          <svg class="fill-current hidden w-4 h-4 text-indigo-800 pointer-events-none" viewBox="0 0 20 20">
            <path d="M0 11l2-2 5 5L18 3l2 2L7 18z" /></svg>
        </div>
        <span class="text-gray-700 pr-2">Conversation concluded</span>
      </label>
      <label class="flex px-2 py-1 justify-start items-start">
        <div class="bg-white border-2 rounded border-gray-400 w-6 h-6 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500">
          <input type="radio" class="opacity-0 absolute" name="resolve">
          <svg class="fill-current hidden w-4 h-4 text-indigo-800 pointer-events-none" viewBox="0 0 20 20">
            <path d="M0 11l2-2 5 5L18 3l2 2L7 18z" /></svg>
        </div>
        <span class="text-gray-700 pr-2">Never</span>
      </label>
    </aside>
  </div>
</body>

</html>
